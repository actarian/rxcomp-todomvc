/**
 * @license todomvc v1.0.0-alpha.7
 * (c) 2019 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("rxcomp"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define("main",["rxcomp","rxjs/operators","rxjs"],e):e((t=t||self).rxcomp,t.rxjs.operators,t.rxjs)}(this,(function(t,e,n){"use strict";function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var r=function(){function t(){}return t.delete=function(t){this.isLocalStorageSupported()&&window.localStorage.removeItem(t)},t.exist=function(t){if(this.isLocalStorageSupported())return void 0!==window.localStorage[t]},t.get=function(t){var e=null;if(this.isLocalStorageSupported()&&void 0!==window.localStorage[t])try{e=JSON.parse(window.localStorage[t])}catch(e){console.log("LocalStorageService.get.error parsing",t,e)}return e},t.set=function(t,e){if(this.isLocalStorageSupported())try{var n=[],o=JSON.stringify(e,(function(t,e){if("object"==typeof e&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e}));window.localStorage.setItem(t,o)}catch(n){console.log("LocalStorageService.set.error serializing",t,e,n)}},t.isLocalStorageSupported=function(){if(this.supported)return!0;var t=!1;try{(t="localStorage"in window&&null!==window.localStorage)?(window.localStorage.setItem("test","1"),window.localStorage.removeItem("test")):t=!1}catch(e){t=!1}return this.supported=t,t},t}(),i=function(){function t(){}return t.set=function(t){return r.set("items",t),this.get$().next(t)},t.get$=function(){if(this.store$)return this.store$;var t=r.get("items");return t||(t=[{id:5,name:"Cookies",date:new Date(Date.now())},{id:4,name:"Pizza",date:new Date(2019,4,4,12)},{id:3,name:"Pasta",date:new Date(2019,3,22,12)},{id:2,name:"Bread",date:new Date(2019,0,6,12)},{id:1,name:"Ham",date:new Date(2018,11,30,12)}],r.set("items",t)),this.store$=new n.BehaviorSubject(t),this.store$.pipe(e.delay(1))},t.add$=function(t){var o=Object.assign({id:Date.now(),date:new Date(Date.now())},t),r=this.store$.getValue();return r.unshift(o),this.set(r),n.of(o).pipe(e.delay(1))},t.patch$=function(t){var o=this.store$.getValue(),r=o.find((function(e){return e.id===t.id}));return r&&(Object.assign(r,t),this.set(o)),n.of(r).pipe(e.delay(1))},t.delete$=function(t){var o=this.store$.getValue(),r=o.indexOf(t);return-1!==r&&(o.splice(r,1),this.set(o)),n.of(t).pipe(e.delay(1))},t}(),a=function(n){function r(){return n.apply(this,arguments)||this}o(r,n);var a=r.prototype;return a.onInit=function(){var n=this,o=t.getContext(this);this.input=o.node.querySelector(".control--text"),this.items=[],this.store$=i.get$(),this.store$.pipe(e.takeUntil(this.unsubscribe$)).subscribe((function(t){n.items=t,n.pushChanges()}))},a.onView=function(){t.getContext(this)},a.onInput=function(t){this.pushChanges()},a.onAddItem=function(t){var e=this;this.input.value&&i.add$({name:this.input.value}).subscribe((function(t){e.input.value=null}))},a.onToggleItem=function(t){i.patch$({id:t.id,done:!t.done}).subscribe((function(t){}))},a.onRemoveItem=function(t){i.delete$(t).subscribe((function(t){}))},r}(t.Component);a.meta={selector:"[app-component]"};var s=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.transform=function(t,e,n){return void 0===e&&(e="it-IT-u-ca-gregory"),void 0===n&&(n={dateStyle:"short",timeStyle:"short"}),new Date(t).toLocaleDateString(e,n)},e}(t.Pipe);s.meta={name:"date"};var u=[{hex:"#ffffff",background:"#ffffff",foreground:"#003adc",accent:"#212121"},{hex:"#212121",background:"#212121",foreground:"#ffffff",accent:"#003adc"},{hex:"#ffffff",background:"#ffffff",foreground:"#212121",accent:"#003adc"},{hex:"#003adc",background:"#003adc",foreground:"#ffffff",accent:"#212121"}];function c(t,e){var n=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),r=parseInt(t.slice(5,7),16);return e?"rgba("+n+","+o+","+r+","+e+")":"rgb("+n+","+o+","+r+")"}var f=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.onChanges=function(t){var e,n;this.background=(e=this.item.id,c(u[e%u.length].background,n)),this.foreground=function(t,e){return c(u[t%u.length].foreground,e)}(this.item.id),this.accent=function(t,e){return c(u[t%u.length].accent,e)}(this.item.id)},n.onToggle=function(t){this.toggle.next(t)},n.onRemove=function(t){this.remove.next(t)},e}(t.Component);f.meta={selector:"[todo-item-component]",inputs:["item"],outputs:["toggle","remove"]};var d=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e}(t.Module);d.meta={imports:[t.CoreModule],declarations:[f,s],bootstrap:a},t.Browser.bootstrap(d)}));
//# sourceMappingURL=main.min.js.map