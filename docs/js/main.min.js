/**
 * @license todomvc v1.0.0-beta.9
 * (c) 2020 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
!function(t,e){"use strict";var n="default"in t?t.default:t,r="default"in e?e.default:e;function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i(t,e){return t(e={exports:{}},e.exports),e.exports
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */}var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function f(t){return this instanceof f?(this.v=t,this):new f(t)}var l=Object.freeze({__proto__:null,__extends:function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},get __assign(){return u},__rest:function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},__decorate:function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},__param:function(t,e){return function(n,r){e(n,r,t)}},__metadata:function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter:function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},__generator:function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},__exportStar:function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},__values:s,__read:c,__spread:function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t},__spreadArrays:function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},__await:f,__asyncGenerator:function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||u(t,e)}))})}function u(t,e){try{(n=o[t](e)).value instanceof f?Promise.resolve(n.value.v).then(s,c):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function s(t){u("next",t)}function c(t){u("throw",t)}function l(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}},__asyncDelegator:function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:f(t[r](e)),done:"return"===r}:o?o(e):e}:o}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=s(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}},__makeTemplateObject:function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__importStar:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},__importDefault:function(t){return t&&t.__esModule?t:{default:t}},__classPrivateFieldGet:function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet:function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}}),p=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXTS={},e.NODES={};var r=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.rxcompId=-1,this.unsubscribe$=new n.Subject,this.changes$=new n.ReplaySubject(1)}return t.prototype.onInit=function(){},t.prototype.onChanges=function(t){},t.prototype.onView=function(){},t.prototype.onDestroy=function(){},t.prototype.pushChanges=function(){this.changes$.next(this),this.onView()},t}();e.default=r,e.getContext=function(t){return e.CONTEXTS[t.rxcompId]}}));o(p);p.CONTEXTS,p.NODES,p.getContext;var d=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e}(l.__importDefault(p).default);e.default=n}));o(d);var h=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.class="",e.keys=[],e}return l.__extends(e,t),e.prototype.onInit=function(){var t=this,e=p.getContext(this).node;Array.prototype.slice.call(e.classList).forEach((function(e){return t.keys.push(e)}))},e.prototype.onChanges=function(){var t=p.getContext(this).node,e=[],n=this.class;if("object"==typeof n)for(var r in n)n[r]&&e.push(r);else"string"==typeof n&&(e=n.split(/\s+/));e=e.concat(this.keys),t.setAttribute("class",e.join(" "))},e}(l.__importDefault(d).default);e.default=n,n.meta={selector:"[[class]]",inputs:["class"]}}));o(h);var v=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.event="",e}return l.__extends(e,t),e.prototype.onInit=function(){var t=p.getContext(this),e=t.module,o=t.node,i=t.parentInstance,a=t.selector,u=this.event=a.replace(/\[|\]|\(|\)/g,""),s=n.fromEvent(o,u).pipe(r.shareReplay(1)),c=o.getAttribute("("+u+")");if(c){var f=e.makeFunction(c,["$event"]);s.pipe(r.takeUntil(this.unsubscribe$)).subscribe((function(t){e.resolve(f,i,t)}))}else i[u+"$"]=s},e}(l.__importDefault(d).default);e.default=o,o.meta={selector:"[("+["mousedown","mouseup","mousemove","click","dblclick","mouseover","mouseout","mouseenter","mouseleave","contextmenu","touchstart","touchmove","touchend","keydown","keyup","input","change","loaded"].join(")],[(")+")]"}}));o(v);var m=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e}(l.__importDefault(p).default);e.default=n}));o(m);var y=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=l.__importStar(p),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.pushChanges=function(){var t=n.getContext(this),e=t.module,r=t.node;this.changes$.next(this),e.parse(r,this),this.onView()},e}(n.default);e.default=r}));o(y);var g=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=l.__importDefault(y),r=["constructor","rxcompId","onInit","onChanges","onDestroy","pushChanges","changes$","unsubscribe$"],o=function(t){function e(n,r){void 0===r&&(r={});var o=t.call(this)||this;return r=e.mergeDescriptors(n,n,r),r=e.mergeDescriptors(Object.getPrototypeOf(n),n,r),Object.defineProperties(o,r),o}return l.__extends(e,t),e.mergeDescriptors=function(t,e,n){void 0===n&&(n={});for(var o=Object.getOwnPropertyNames(t),i=function(){var i=o.shift();if(-1===r.indexOf(i)&&!n.hasOwnProperty(i)){var a=Object.getOwnPropertyDescriptor(t,i);"function"==typeof a.value&&(a.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e[i].apply(e,t)}),n[i]=a}};o.length;)i();return n},e}(n.default);e.default=o}));o(g);var _=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e,n,r,o,i,a,u){var s=t.call(this,u)||this;return s[e]=n,s[r]=o,s.index=i,s.count=a,s}return l.__extends(e,t),Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(l.__importDefault(g).default);e.default=n}));o(_);var b=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=l.__importDefault(m),r=l.__importDefault(_),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.instances=[],e}return l.__extends(e,t),e.prototype.onInit=function(){var t=p.getContext(this),e=t.module,n=t.node,r=document.createComment("*for begin");r.rxcompId=n.rxcompId,n.parentNode.replaceChild(r,n);var o=this.forend=document.createComment("*for end");r.parentNode.insertBefore(o,r.nextSibling);var i=n.getAttribute("*for");n.removeAttribute("*for");var a=this.token=this.getExpressionToken(i);this.forFunction=e.makeFunction(a.iterable)},e.prototype.onChanges=function(t){for(var e=p.getContext(this),n=e.module,o=e.node,i=this.token,a=n.resolve(this.forFunction,t,this)||[],u=Array.isArray(a),s=u?a:Object.keys(a),c=s.length,f=this.instances.length,l=0;l<Math.max(f,c);l++)if(l<c){var d=u?l:s[l],h=u?s[d]:a[d];if(l<f){(g=this.instances[l])[i.key]=d,g[i.value]=h}else{var v=o.cloneNode(!0);delete v.rxcompId,this.forend.parentNode.insertBefore(v,this.forend);var m=[i.key,d,i.value,h,l,c,e.parentInstance];if(g=n.makeInstance(v,r.default,e.selector,e.parentInstance,m)){var y=p.getContext(g);n.compile(v,y.instance),this.instances.push(g)}}}else{var g=this.instances[l],_=p.getContext(g).node;_.parentNode.removeChild(_),n.remove(_)}this.instances.length=s.length},e.prototype.getExpressionToken=function(t){if(null===t)throw"invalid for";if(-1===t.trim().indexOf("let ")||-1===t.trim().indexOf(" of "))throw"invalid for";var e=t.split(";").map((function(t){return t.trim()})).filter((function(t){return""!==t})),n=e[0].split(" of ").map((function(t){return t.trim()})),r=n[0].replace(/\s*let\s*/,""),o=n[1],i="index",a=r.match(/\[(.+)\s*,\s*(.+)\]/);if(a&&(i=a[1],r=a[2]),e.length>1){var u=e[1].split(/\s*let\s*|\s*=\s*index/).map((function(t){return t.trim()}));3===u.length&&(i=u[1])}return{key:i,value:r,iterable:o}},e}(n.default);e.default=o,o.meta={selector:"[*for]"}}));o(b);var x=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),Object.defineProperty(e.prototype,"href",{get:function(){return this.href_},set:function(t){if(this.href_!==t){this.href_=t;var e=p.getContext(this).node;t?e.setAttribute("href",t):e.removeAttribute("href")}},enumerable:!0,configurable:!0}),e}(l.__importDefault(d).default);e.default=n,n.meta={selector:"[[href]]",inputs:["href"]}}));o(x);var w=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.onInit=function(){var t=p.getContext(this),e=t.module,n=t.node,r=this.ifbegin=document.createComment("*if begin");r.rxcompId=n.rxcompId,n.parentNode.replaceChild(r,n);var o=this.ifend=document.createComment("*if end");r.parentNode.insertBefore(o,r.nextSibling);var i=n.getAttribute("*if");this.ifFunction=e.makeFunction(i);var a=n.cloneNode(!0);a.removeAttribute("*if"),this.clonedNode=a,this.element=a.cloneNode(!0)},e.prototype.onChanges=function(t){var e=p.getContext(this).module,n=e.resolve(this.ifFunction,t,this),r=this.element;if(n){if(!r.parentNode){var o=this.ifend;o.parentNode.insertBefore(r,o),e.compile(r)}}else r.parentNode&&(e.remove(r,this),r.parentNode.removeChild(r),this.element=this.clonedNode.cloneNode(!0))},e.meta={selector:"[*if]"},e}(l.__importDefault(m).default);e.default=n}));o(w);var O=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),Object.defineProperty(e.prototype,"innerHTML",{get:function(){return this.innerHTML_},set:function(t){this.innerHTML_!==t&&(this.innerHTML_=t,p.getContext(this).node.innerHTML=null==t?"":t)},enumerable:!0,configurable:!0}),e}(l.__importDefault(d).default);e.default=n,n.meta={selector:"[innerHTML]",inputs:["innerHTML"]}}));o(O);var S=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.transform=function(t){return t},t}();e.default=n}));o(S);var D=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.transform=function(t){return JSON.stringify(t,null,"\t")},e}(l.__importDefault(S).default);e.default=n,n.meta={name:"json"}}));o(D);var I=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=l.__importDefault(y),i=l.__importDefault(g),a=l.__importStar(p),u=l.__importDefault(m),s=0,c=function(){function t(){}return t.prototype.compile=function(e,n){var r,i=this;return t.querySelectorsAll(e,this.meta.selectors,[]).map((function(t){r&&r!==t.node&&(n=void 0);var e=i.makeInstance(t.node,t.factory,t.selector,n);return t.factory.prototype instanceof o.default&&(r=t.node),e})).filter((function(t){return void 0!==t}))},t.prototype.makeInstance=function(e,n,o,i,u){var s=this;if(i||e.parentNode){var c=n.meta;if(!(i=i||this.getParentInstance(e.parentNode)))return;var f=new(n.bind.apply(n,l.__spreadArrays([void 0],u||[]))),p=t.makeContext(this,f,i,e,n,o);return c&&(this.makeHosts(c,f,e),p.inputs=this.makeInputs(c,f),p.outputs=this.makeOutputs(c,f),i instanceof a.default&&this.resolveInputsOutputs(f,i)),f.onInit(),i instanceof a.default&&i.changes$.pipe(r.takeUntil(f.unsubscribe$)).subscribe((function(t){c&&s.resolveInputsOutputs(f,t),f.onChanges(t),f.pushChanges()})),f}},t.prototype.makeFunction=function(e,n){if(void 0===n&&(n=["$instance"]),e){e=t.parseExpression(e);var r=n.join(",");return new Function("with(this) {\n\t\t\t\treturn (function ("+r+", $$module) {\n\t\t\t\t\tconst $$pipes = $$module.meta.pipes;\n\t\t\t\t\treturn "+e+";\n\t\t\t\t}.bind(this)).apply(this, arguments);\n\t\t\t}")}return function(){return null}},t.prototype.resolve=function(t,e,n){return t.apply(e,[n,this])},t.prototype.parse=function(t,e){for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(1===r.nodeType){var o=r;f(o)||this.parse(o,e)}else if(3===r.nodeType){var i=r;this.parseTextNode(i,e)}}},t.prototype.remove=function(e,n){var r=n?a.getContext(n):void 0;return t.traverseDown(e,(function(e){var n=e.rxcompId;n&&(0===t.deleteContext(n,r).length&&delete e.rxcompId)})),e},t.prototype.destroy=function(){this.remove(this.meta.node),this.meta.node.innerHTML=this.meta.nodeInnerHTML},t.prototype.makeContext=function(e,n,r,o){return t.makeContext(this,e,n,r,e.constructor,o)},t.prototype.getInstance=function(t){if(t instanceof Document)return window;var e=f(t);return e?e.instance:void 0},t.prototype.getParentInstance=function(e){var n=this;return t.traverseUp(e,(function(t){return n.getInstance(t)}))},t.prototype.parseTextNode=function(t,e){var n=this,r=t.nodeExpressions;r||(r=this.parseTextNodeExpression(t.wholeText));var o=r.reduce((function(t,r){var o;return"function"==typeof r?null==(o=n.resolve(r,e,e))&&(o=""):o=r,t+o}),"");if(t.nodeValue!==o){var i=document.createTextNode(o);i.nodeExpressions=r,t.parentNode.replaceChild(i,t)}},t.prototype.pushFragment=function(t,e,n,r){var o=t.substring(e,n);r.push(o)},t.prototype.parseTextNodeExpression=function(t){for(var e,n=[],r=/\{{2}((([^{}])|(\{([^{}]|(\{.*?\}))+?\}))*?)\}{2}/g,o=0;null!==(e=r.exec(t));){var i=r.lastIndex-e[0].length;i>o&&this.pushFragment(t,i,o,n),o=r.lastIndex;var a=this.makeFunction(e[1]);n.push(a)}var u=t.length;return u>o&&this.pushFragment(t,o,u,n),n},t.prototype.makeHosts=function(t,e,n){t.hosts&&Object.keys(t.hosts).forEach((function(r){var o=t.hosts[r];e[r]=d(e,o,n)}))},t.prototype.makeInput=function(t,e){var n=a.getContext(t).node,r=null,o=null;if(n.hasAttribute("["+e+"]"))o=n.getAttribute("["+e+"]");else if(n.hasAttribute(e)){o='"'+n.getAttribute(e).replace(/({{)|(}})|(")/g,(function(t,e,n,r){return e?'"+':n?'+"':r?'"':""}))+'"'}return o&&(r=this.makeFunction(o)),r},t.prototype.makeInputs=function(t,e){var n=this,r={};return t.inputs&&t.inputs.forEach((function(t,o){var i=n.makeInput(e,t);i&&(r[t]=i)})),r},t.prototype.makeOutput=function(t,e){var o=this,i=a.getContext(t),u=i.node,s=i.parentInstance,c=u.getAttribute("("+e+")"),f=c?this.makeFunction(c,["$event"]):null,l=(new n.Subject).pipe(r.tap((function(t){f&&o.resolve(f,s,t)})));return l.pipe(r.takeUntil(t.unsubscribe$)).subscribe(),t[e]=l,l},t.prototype.makeOutputs=function(t,e){var n=this,r={};return t.outputs&&t.outputs.forEach((function(t){var o=n.makeOutput(e,t);o&&(r[t]=o)})),r},t.prototype.resolveInputsOutputs=function(t,e){var n=a.getContext(t),r=n.parentInstance,o=n.inputs;for(var i in o){var u=o[i],s=this.resolve(u,r,t);t[i]=s}},t.parseExpression=function(e){for(var n=/(\()([^\(\)]*)(\))/;e.match(n);)e=e.replace(n,(function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return"┌"+t.parsePipes(n[1])+"┘"}));return e=(e=t.parsePipes(e)).replace(/(┌)|(┘)/g,(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e[0]?"(":")"})),t.parseOptionalChaining(e)},t.parsePipes=function(e){for(var n=/(.*?[^\|])\|([^\|]+)/;e.match(n);)e=e.replace(n,(function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0].trim(),i=t.parsePipeParams(n[1]),a=i.shift().trim();return"$$pipes."+a+".transform┌"+l.__spreadArrays([o],i)+"┘"}));return e},t.parsePipeParams=function(t){for(var e=[],n=0,r="",o=0,i=t.length;n<i;){var a=t.substr(n,1);"{"!==a&&"("!==a&&"["!==a||o++,"}"!==a&&")"!==a&&"]"!==a||o--,":"===a&&0===o?(r.length&&e.push(r.trim()),r=""):r+=a,n++}return r.length&&e.push(r.trim()),e},t.parseOptionalChaining=function(t){var e;return t=t.replace(/(\w+(\?\.))+([\.|\w]+)/g,(function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var o=t.split("?."),i=0;i<o.length-1;i++){var a=i>0?"("+o[i]+" = "+e+")":o[i],u=o[i+1];e=i>0?a+"."+u:"("+a+" ? "+a+"."+u+" : void 0)"}return e||""}))},t.makeContext=function(t,e,n,r,o,i){e.rxcompId=++s;var u={module:t,instance:e,parentInstance:n,node:r,factory:o,selector:i},c=r.rxcompId=r.rxcompId||e.rxcompId;return(a.NODES[c]||(a.NODES[c]=[])).push(u),a.CONTEXTS[e.rxcompId]=u,u},t.deleteContext=function(t,e){var n=[],r=a.NODES[t];return r&&(r.forEach((function(t){if(t===e)n.push(e);else{var r=t.instance;r.unsubscribe$.next(),r.unsubscribe$.complete(),r.onDestroy(),delete a.CONTEXTS[r.rxcompId]}})),n.length?a.NODES[t]=n:delete a.NODES[t]),n},t.matchSelectors=function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r](t);if(i){var a=i.factory;if(a.prototype instanceof o.default&&a.meta.template&&(t.innerHTML=a.meta.template),n.push(i),a.prototype instanceof u.default)break}}return n},t.querySelectorsAll=function(t,e,n){if(1===t.nodeType){var r=this.matchSelectors(t,e,[]);if(n=n.concat(r),r.find((function(t){return t.factory.prototype instanceof u.default})))return n;for(var o=t.childNodes,i=0;i<o.length;i++)n=this.querySelectorsAll(o[i],e,n)}return n},t.traverseUp=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);return r||this.traverseUp(t.parentNode,e,n+1)}},t.traverseDown=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);if(r)return r;if(1===t.nodeType)for(var o=0,i=t.childNodes.length;o<i&&!r;)r=this.traverseDown(t.childNodes[o],e,n+1),o++;return r}},t.traversePrevious=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);return r||this.traversePrevious(t.previousSibling,e,n+1)}},t.traverseNext=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);return r||this.traverseNext(t.nextSibling,e,n+1)}},t}();function f(t){var e,n=t.rxcompId;if(n){var r=a.NODES[n];r&&(e=r.reduce((function(t,e){return e.factory.prototype instanceof o.default?e:e.factory.prototype instanceof i.default?t||e:t}),void 0))}return e}function d(t,e,n){if(n||(n=a.getContext(t).node),n.rxcompId){var r=a.NODES[n.rxcompId];if(r)for(var o=0;o<r.length;o++){var i=r[o];if(i.instance!==t&&i.instance instanceof e)return i.instance}}return n.parentNode?d(t,e,n.parentNode):void 0}e.default=c,e.getContextByNode=f,e.getHost=d}));o(I);I.getContextByNode,I.getHost;var C=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),Object.defineProperty(e.prototype,"src",{get:function(){return this.src_},set:function(t){if(this.src_!==t){this.src_=t;var e=p.getContext(this).node;t?e.setAttribute("src",t):e.removeAttribute("src")}},enumerable:!0,configurable:!0}),e}(l.__importDefault(d).default);e.default=n,n.meta={selector:"[[src]]",inputs:["src"]}}));o(C);var P=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.onChanges=function(){var t=p.getContext(this).node,e=this.style,n=this.previousStyle;if(n)for(var r in n)if(!e||!e[r]){var o=(i=r.split(".")).shift();t.style.removeProperty(o)}if(e)for(var r in e)if(!n||n[r]!==e[r]){o=(i=r.split(".")).shift();var i,a=e[r]+(i.length?i[0]:"");t.style.setProperty(o,a)}this.previousStyle=e},e}(l.__importDefault(d).default);e.default=n,n.meta={selector:"[[style]]",inputs:["style"]}}));o(P);var j=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=l.__importDefault(h),r=l.__importDefault(v),o=l.__importDefault(b),i=l.__importDefault(x),a=l.__importDefault(w),u=l.__importDefault(O),s=l.__importDefault(D),c=l.__importDefault(I),f=l.__importDefault(C),p=l.__importDefault(P),d=[n.default,r.default,o.default,i.default,a.default,u.default,f.default,p.default],m=[s.default],y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.meta={declarations:l.__spreadArrays(d,m),exports:l.__spreadArrays(d,m)},e}(c.default);e.default=y}));o(j);var N=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=l.__importDefault(y),r=l.__importDefault(d),o=l.__importDefault(p),i=l.__importDefault(S),a=[l.__importDefault(m).default,n.default,r.default],u=function(){function t(){}return t.bootstrap=function(t){if(!t)throw"missing moduleFactory";if(!t.meta)throw"missing moduleFactory meta";if(!t.meta.bootstrap)throw"missing bootstrap";if(!t.meta.bootstrap.meta)throw"missing bootstrap meta";if(!t.meta.bootstrap.meta.selector)throw"missing bootstrap meta selector";var e=this.resolveMeta(t),n=new t;return n.meta=e,n.compile(e.node,window)[0].pushChanges(),n},t.isBrowser=function(){return Boolean(window)},t.querySelector=function(t){return document.querySelector(t)},t.resolveMeta=function(t){var e=this.resolveImportedMeta(t),n=t.meta.bootstrap,r=this.querySelector(n.meta.selector);if(!r)throw"missing node "+n.meta.selector;var o=r.innerHTML,i=this.resolvePipes(e),a=this.resolveFactories(e);return this.sortFactories(a),a.unshift(n),{factories:a,pipes:i,selectors:this.unwrapSelectors(a),bootstrap:n,node:r,nodeInnerHTML:o}},t.resolveImportedMeta=function(t){var e=this,n=Object.assign({imports:[],declarations:[],pipes:[],exports:[]},t.meta);return n.imports=(t.meta.imports||[]).map((function(t){return e.resolveImportedMeta(t)})),n},t.resolvePipes=function(t,e){var n=this,r=t.imports.map((function(t){return n.resolvePipes(t,!0)})),o={};return(e?t.exports:t.declarations).filter((function(t){return t.prototype instanceof i.default})).forEach((function(t){return o[t.meta.name]=t})),Object.assign.apply(Object,l.__spreadArrays([{}],r,[o]))},t.resolveFactories=function(t,e){var n,r=this,i=t.imports.map((function(t){return r.resolveFactories(t,!0)})),a=(e?t.exports:t.declarations).filter((function(t){return t.prototype instanceof o.default}));return(n=Array.prototype.concat).call.apply(n,l.__spreadArrays([a],i))},t.sortFactories=function(t){t.sort((function(t,e){var n=a.reduce((function(e,n,r){return t.prototype instanceof n?r:e}),-1)-a.reduce((function(t,n,r){return e.prototype instanceof n?r:t}),-1);return 0===n?(t.meta.hosts?1:0)-(e.meta.hosts?1:0):n}))},t.getExpressions=function(t){var e=[];return t.replace(/\.([\w\-\_]+)|\[(.+?\]*)(\=)(.*?)\]|\[(.+?\]*)\]|([\w\-\_]+)/g,(function(t,n,r,o,i,a,u){return n&&e.push((function(t){return t.classList.contains(n)})),r&&e.push((function(t){return t.hasAttribute(r)&&t.getAttribute(r)===i||t.hasAttribute("["+r+"]")&&t.getAttribute("["+r+"]")===i})),a&&e.push((function(t){return t.hasAttribute(a)||t.hasAttribute("["+a+"]")})),u&&e.push((function(t){return t.nodeName.toLowerCase()===u.toLowerCase()})),""})),e},t.unwrapSelectors=function(t){var e=this,n=[];return t.forEach((function(t){t.meta&&t.meta.selector&&t.meta.selector.split(",").forEach((function(r){r=r.trim();var o=[],i=r.replace(/\:not\((.+?)\)/g,(function(t,n){return o=e.getExpressions(n),""})),a=e.getExpressions(i);n.push((function(e){var n=a.reduce((function(t,n){return t&&n(e)}),!0),i=o.reduce((function(t,n){return t||n(e)}),!1);return!(!n||i)&&{node:e,factory:t,selector:r}}))}))})),n},t}();e.default=u}));o(N);var k=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e}(l.__importDefault(N).default);e.default=n}));o(k);var M=i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ClassDirective=h.default,e.CoreModule=j.default,e.Component=y.default,e.Context=g.default,e.Directive=d.default,e.Factory=p.default,e.getContext=p.getContext,e.Pipe=S.default,e.Structure=m.default,e.EventDirective=v.default,e.ForItem=_.default,e.ForStructure=b.default,e.HrefDirective=x.default,e.IfStructure=w.default,e.InnerHtmlDirective=O.default,e.JsonPipe=D.default,e.Module=I.default,e.getContextByNode=I.getContextByNode,e.getHost=I.getHost,e.Browser=k.default,e.Platform=N.default,e.SrcDirective=C.default,e.StyleDirective=P.default}));o(M);M.ClassDirective;var T=M.CoreModule,E=M.Component,$=(M.Context,M.Directive,M.Factory,M.getContext),A=M.Pipe,F=(M.Structure,M.EventDirective,M.ForItem,M.ForStructure,M.HrefDirective,M.IfStructure,M.InnerHtmlDirective,M.JsonPipe,M.Module),H=(M.getContextByNode,M.getHost,M.Browser);M.Platform,M.SrcDirective,M.StyleDirective;function L(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var B=function(){function t(){}return t.delete=function(t){this.isLocalStorageSupported()&&window.localStorage.removeItem(t)},t.exist=function(t){if(this.isLocalStorageSupported())return void 0!==window.localStorage[t]},t.get=function(t){var e=null;if(this.isLocalStorageSupported()&&void 0!==window.localStorage[t])try{e=JSON.parse(window.localStorage[t])}catch(e){console.log("LocalStorageService.get.error parsing",t,e)}return e},t.set=function(t,e){if(this.isLocalStorageSupported())try{var n=[],r=JSON.stringify(e,(function(t,e){if("object"==typeof e&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e}));window.localStorage.setItem(t,r)}catch(n){console.log("LocalStorageService.set.error serializing",t,e,n)}},t.isLocalStorageSupported=function(){if(this.supported)return!0;var t=!1;try{(t="localStorage"in window&&null!==window.localStorage)?(window.localStorage.setItem("test","1"),window.localStorage.removeItem("test")):t=!1}catch(e){t=!1}return this.supported=t,t},t}(),R=function(){function n(){}return n.set=function(t){return B.set("items",t),this.get$().next(t)},n.get$=function(){if(this.store$)return this.store$;var n=B.get("items");return n||(n=[{id:5,name:"Cookies",date:new Date(Date.now())},{id:4,name:"Pizza",date:new Date(2019,4,4,12)},{id:3,name:"Pasta",date:new Date(2019,3,22,12)},{id:2,name:"Bread",date:new Date(2019,0,6,12)},{id:1,name:"Ham",date:new Date(2018,11,30,12)}],B.set("items",n)),this.store$=new t.BehaviorSubject(n),this.store$.pipe(e.delay(1))},n.add$=function(n){var r=Object.assign({id:Date.now(),date:new Date(Date.now())},n),o=this.store$.getValue();return o.unshift(r),this.set(o),t.of(r).pipe(e.delay(1))},n.patch$=function(n){var r=this.store$.getValue(),o=r.find((function(t){return t.id===n.id}));return o&&(Object.assign(o,n),this.set(r)),t.of(o).pipe(e.delay(1))},n.delete$=function(n){var r=this.store$.getValue(),o=r.indexOf(n);return-1!==o&&(r.splice(o,1),this.set(r)),t.of(n).pipe(e.delay(1))},n}(),V=function(t){function n(){return t.apply(this,arguments)||this}L(n,t);var r=n.prototype;return r.onInit=function(){var t=this,n=$(this);this.input=n.node.querySelector(".control--text"),this.items=[],this.store$=R.get$(),this.store$.pipe(e.takeUntil(this.unsubscribe$)).subscribe((function(e){t.items=e,t.pushChanges()}))},r.onView=function(){$(this)},r.onInput=function(t){this.pushChanges()},r.onAddItem=function(t){var e=this;this.input.value&&R.add$({name:this.input.value}).subscribe((function(t){e.input.value=null}))},r.onToggleItem=function(t){R.patch$({id:t.id,done:!t.done}).subscribe((function(t){}))},r.onRemoveItem=function(t){R.delete$(t).subscribe((function(t){}))},n}(E);V.meta={selector:"[app-component]"};var q=function(t){function e(){return t.apply(this,arguments)||this}return L(e,t),e.transform=function(t,e,n){return void 0===e&&(e="it-IT-u-ca-gregory"),void 0===n&&(n={dateStyle:"short",timeStyle:"short"}),new Date(t).toLocaleDateString(e,n)},e}(A);q.meta={name:"date"};var U=[{hex:"#ffffff",background:"#ffffff",foreground:"#003adc",accent:"#212121"},{hex:"#212121",background:"#212121",foreground:"#ffffff",accent:"#003adc"},{hex:"#ffffff",background:"#ffffff",foreground:"#212121",accent:"#003adc"},{hex:"#003adc",background:"#003adc",foreground:"#ffffff",accent:"#212121"}];function J(t,e){var n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return e?"rgba("+n+","+r+","+o+","+e+")":"rgb("+n+","+r+","+o+")"}var X=function(t){function e(){return t.apply(this,arguments)||this}L(e,t);var n=e.prototype;return n.onChanges=function(t){var e,n;this.background=(e=this.item.id,J(U[e%U.length].background,n)),this.foreground=function(t,e){return J(U[t%U.length].foreground,e)}(this.item.id),this.accent=function(t,e){return J(U[t%U.length].accent,e)}(this.item.id)},n.onToggle=function(t){this.toggle.next(t)},n.onRemove=function(t){this.remove.next(t)},e}(E);X.meta={selector:"[todo-item-component]",inputs:["item"],outputs:["toggle","remove"]};var z=function(t){function e(){return t.apply(this,arguments)||this}return L(e,t),e}(F);z.meta={imports:[T],declarations:[X,q],bootstrap:V},H.bootstrap(z)}(rxjs,rxjs.operators);
//# sourceMappingURL=main.min.js.map